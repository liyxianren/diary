<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code 系列课程 - 第一节：安装环境</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        {% from '_nav_macros.html' import course_sidebar %}
        {{ course_sidebar(courses, current_lesson) }}

        <!-- 主内容区 -->
        <main class="main-content">
            <header class="page-header">
                <a href="/" class="back-link">← 返回课程列表</a>
                <h1>第一节：安装环境</h1>
            </header>

<!-- Mac 安装部分 -->
            <section id="mac-install" class="content-section">
                <h2>macOS/Linux 安装指南</h2>

                <div class="info-box">
                    <h3>系统要求</h3>
                    <p>macOS 10.15+ 系统 或 Linux 系统</p>
                </div>

                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>打开终端</h3>
                            <p>使用 <code>Cmd+Space</code> 搜索 "Terminal" 或在 <strong>应用程序 > 实用工具</strong> 中找到终端</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>复制并执行环境检查脚本</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>curl -fsSL https://download.aicodemirror.com/env_deploy/env-install.sh | bash</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>卸载已安装的 Claude Code（未安装请跳过）</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>npm uninstall -g @anthropic-ai/claude-code</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>安装官方原版包</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>npm install -g @anthropic-ai/claude-code</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h3>验证安装</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>claude -v</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h3>开始使用</h3>
                            <p>安装完成后，您可以在任何项目目录中开始使用 Claude Code：</p>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code># 导航到您的项目
cd your-project-folder

# 启动 Claude Code
claude</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Windows 安装部分 -->
            <section id="windows-install" class="content-section">
                <h2>Windows 安装指南</h2>

                <div class="info-box">
                    <h3>系统要求</h3>
                    <p>Windows 10 (版本 1809 / build 17763) 及以上</p>
                </div>

                <div class="warning-box">
                    <h3>预备知识：修改环境变量</h3>
                    <ol>
                        <li>在 Windows 菜单搜索「编辑系统环境变量」</li>
                        <li>弹出系统属性窗口，选择「环境变量」</li>
                        <li>确保只使用「系统变量」。每次新建变量之前，先完整检查用户变量和系统变量中是否已经有这个变量名了，若有请先删除，然后再新建</li>
                        <li>新建环境变量后，需要重启终端才会生效。如果重启终端还不生效，重启电脑</li>
                    </ol>
                </div>

                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>【此步骤在桌面】下载 Git</h3>
                            <p>访问 <a href="https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.52.0-rc0.windows.1/" target="_blank">Git 下载页面</a>，选择 <code>Git-2.52.0-rc0-64-bit.exe</code></p>
                            <p class="note">安装时全都下一步，不要修改路径</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>【此步骤在桌面】下载 Node.js</h3>
                            <p>访问 <a href="https://nodejs.org/zh-cn/download" target="_blank">Node.js 官网</a>，选择：<strong>Windows 安装程序(.msi)</strong></p>
                            <p class="note">安装时全都下一步，不要修改路径</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>【此步骤在 Windows PowerShell】安装官方原版包</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>npm install -g @anthropic-ai/claude-code</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>开始使用</h3>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code># 导航到您的项目
cd your-project-folder

# 启动 Claude Code
claude</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ChatGLM 配置部分 -->
            <section id="chatglm-config" class="content-section">
                <h2>配置转接 ChatGLM</h2>

                <div class="info-box highlight">
                    <h3>什么是转接？</h3>
                    <p>通过配置，可以让 Claude Code 使用智谱 AI 的 GLM-4.6 模型，享受更强大的中文理解能力。</p>
                </div>

                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>打开配置目录</h3>
                            <ul>
                                <li><strong>Mac:</strong> <code>~/.claude</code></li>
                                <li><strong>Windows:</strong> <code>%USERPROFILE%\.claude</code></li>
                            </ul>
                            <p class="note">如果目录不存在，请手动创建</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>创建配置文件</h3>
                            <p>在该目录中新建一个 <code>settings.json</code> 文件，填入以下内容：</p>
                            <div class="warning-box">
                                <p><strong>⚠️ 重要：</strong>将 <code>your Zhipu API key</code> 替换为你的实际 API Key</p>
                            </div>
                            <div class="code-block">
                                <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                <pre><code>{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "your Zhipu API key",
    "ANTHROPIC_BASE_URL": "https://open.bigmodel.cn/api/anthropic",
    "ANTHROPIC_DEFAULT_HAIKU_MODEL": "glm-4.5-air",
    "ANTHROPIC_DEFAULT_SONNET_MODEL": "glm-4.6",
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "glm-4.6"
  }
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>重启 Claude Code</h3>
                            <p>保存配置文件后，重启 Claude Code 即可生效。</p>
                        </div>
                    </div>
                </div>

                <div class="success-box">
                    <h3>🎉 恭喜！</h3>
                    <p>你已经完成了第一节课的所有内容。现在可以开始使用 Claude Code 进行开发了！</p>
                </div>
            </section>

            

            <!-- 技术支持 -->
            <section class="support-section">
                <h3>需要帮助？</h3>
                <p>如果在学习过程中遇到问题，请联系技术支持。</p>
            </section>
        </main>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>